import matplotlib.pyplot as plt
import numpy as np

num_batch = 11
dataset_name = 'house'
finetune = []
dynamic_hard = []
dynamic_soft = []
dynamic_cost = []
joint = []
# Fill in your log
finetune.append([0.9408181629404029, 0.776562608153942, 0.8083339101543573, 0.8695923029002561, 0.8255001038277843, 0.8512493943379248, 0.8821900740638194, 0.9123001315151935, 0.9220599432408112, 0.9338963106527307])
finetune.append([0.9417180037378002, 0.7772547933827092, 0.8039731432131239, 0.8682079324427217, 0.8416972381809372, 0.8598324911746383, 0.8901502041946425, 0.9111926351491659, 0.9221983802865646, 0.9323735031494428])
finetune.append([0.9369419256593065, 0.7751782376964076, 0.801204402298055, 0.8682771509655984, 0.8329757042984702, 0.8543642278673773, 0.8749913476846404, 0.9096006091230013, 0.925105558247387, 0.9345884958814978])
dynamic_hard.append([0.9408181629404029, 0.776562608153942, 0.8083339101543573, 0.8627396691354606, 0.8496573683117602, 0.8816363258808056, 0.9005329826261508, 0.8908423894234097, 0.9255208693846473, 0.9382570775939642])
dynamic_hard.append([0.9417180037378002, 0.7772547933827092, 0.8039731432131239, 0.8545026649131308, 0.86613137675642, 0.880321173946148, 0.8958953415934104, 0.9006714196719042, 0.9180452689139613, 0.9374264553194435])
dynamic_hard.append([0.9369419256593065, 0.7751782376964076, 0.801204402298055, 0.8267460372395653, 0.8485498719457327, 0.880321173946148, 0.899979234443137, 0.904201564338617, 0.9152765279988925, 0.9354191181560185])
dynamic_soft.append([0.9408181629404029, 0.776562608153942, 0.8083339101543573, 0.8646085692531321, 0.8438430123901156, 0.8816363258808056, 0.8983872084169724, 0.9002561085346439, 0.9244133730186198, 0.9378417664567038])
dynamic_soft.append([0.9417180037378002, 0.7772547933827092, 0.8039731432131239, 0.8601785837890219, 0.8706997992662836, 0.8839897556586143, 0.8945801896587526, 0.9050321866131377, 0.9255208693846473, 0.9354883366788953])
dynamic_soft.append([0.9369419256593065, 0.7751782376964076, 0.801204402298055, 0.826330726102305, 0.8394822454488822, 0.8864816224821762, 0.9038554717242334, 0.9102235758288918, 0.9247594656330034, 0.9356959922475254])
dynamic_cost.append([0.9408181629404029, 0.776562608153942, 0.8083339101543573, 0.8620474839066934, 0.8513878313836782, 0.8810133591749152, 0.8972104935280681, 0.8997023603516301, 0.9253132138160172, 0.9391569183913615])
dynamic_cost.append([0.9417180037378002, 0.7772547933827092, 0.8039731432131239, 0.8566484391223091, 0.8644701322073787, 0.8805288295147782, 0.8969336194365612, 0.9075240534366996, 0.9185297985740984, 0.9381186405482107])
dynamic_cost.append([0.9369419256593065, 0.7751782376964076, 0.801204402298055, 0.8286841558801136, 0.8542950093445005, 0.8835744445213539, 0.9015712604693016, 0.9039939087699869, 0.923375095175469, 0.9389492628227314])
joint.append([0.9437945594241018, 0.7684640409773655, 0.6700353014466671, 0.684501972727902, 0.6315498027272098, 0.6048314528967952, 0.6101612791583028, 0.6565376894857063, 0.6720426386100921, 0.6759880944140652])
joint.append([0.9458018965875268, 0.7750398006506541, 0.681041046584066, 0.6604831452896796, 0.6134837682563854, 0.6073233197203571, 0.6343185436422787, 0.656122378348446, 0.6508617706098152, 0.7040908147020143])
joint.append([0.9395722295286218, 0.7709559078009275, 0.6564684709628297, 0.6595140859694054, 0.6437322627535128, 0.6404097736554302, 0.6197826538381671, 0.6249048245310445, 0.6576451858517339, 0.6842943171592718])

finetune = np.mean(np.array(finetune), axis=0)
dynamic_hard = np.mean(np.array(dynamic_hard), axis=0)
dynamic_soft = np.mean(np.array(dynamic_soft), axis=0)
dynamic_cost = np.mean(np.array(dynamic_cost), axis=0)
joint = np.mean(np.array(joint), axis=0)
a = np.arange(1, num_batch)
plt.xlabel('Data batch')
plt.ylabel('Test acc')
plt.plot(a, finetune, 'g^-', label='Finetune')
plt.plot(a, dynamic_hard, 'ro-', label='Dynamic hard')
plt.plot(a, dynamic_soft, 'b*-', label='Dynamic soft')
plt.plot(a, dynamic_cost, 'c>-', label='Dynamic cost')
plt.plot(a, joint, 'ms-', label='Joint')
plt.xticks(np.arange(0, num_batch, 1))
plt.legend(loc='lower left')
plt.savefig(f'{dataset_name}_num_batch_{num_batch}_acc.png')